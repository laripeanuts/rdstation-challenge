#!/usr/bin/env sh
echo "ğŸ” [pre-push] Running lint and tests with coverage (frontend)"
echo "ğŸ“Š Coverage threshold: â‰¥ 80%"
echo ""

# Run lint
echo "ğŸ§¹ Running ESLint..."
yarn --cwd frontend lint || {
  echo "âŒ Lint failed. Please fix the errors before pushing."
  exit 1
}

# Run tests with coverage
echo ""
echo "ğŸ§ª Running tests with coverage..."
yarn --cwd frontend test:coverage || {
  echo "âŒ Tests or coverage threshold failed. Coverage must be â‰¥ 80%."
  exit 1
}

echo ""
echo "âœ… All checks passed! Proceeding with push..."

